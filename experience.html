<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í—¤ë¸ì¦ˆë„ì–´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">
<!-- Navigation Bar -->
<header class="bg-white shadow-md p-4 fixed w-full top-0 z-10">
    <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-600">AI ì²´í—˜í•˜ê¸°</h1>
        <!-- ë°ìŠ¤í¬íƒ‘ ë‚´ë¹„ê²Œì´ì…˜ -->
        <nav class="hidden md:block">
            <ul class="flex space-x-6">
                <li><a href="index.html" class="text-gray-700 hover:text-blue-600">í™ˆ</a></li>
                <li><a href="#chat" class="text-gray-700 hover:text-blue-600">ì²´í—˜</a></li>
                <li><a href="#contact" class="text-gray-700 hover:text-blue-600">ë¬¸ì˜</a></li>
            </ul>
        </nav>
        <!-- ëª¨ë°”ì¼ ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
        <button id="mobileMenuButton" class="md:hidden text-gray-700 focus:outline-none">
            <i class="ph ph-list text-3xl"></i>
        </button>
    </div>
    <!-- ëª¨ë°”ì¼ ë‚´ë¹„ê²Œì´ì…˜ ë©”ë‰´ (ê¸°ë³¸ ìˆ¨ê¹€) -->
    <nav id="mobileMenu" class="hidden md:hidden bg-white">
        <ul class="flex flex-col space-y-4 p-4">
            <li><a href="index.html" class="text-gray-700 hover:text-blue-600">í™ˆ</a></li>
            <li><a href="#chat" class="text-gray-700 hover:text-blue-600">ì²´í—˜</a></li>
            <li><a href="#contact" class="text-gray-700 hover:text-blue-600">ë¬¸ì˜</a></li>
        </ul>
    </nav>
</header>

<!-- Main Content: Chat Interface -->
<main id="chat" class="pt-24 flex flex-col items-center justify-center p-6 flex-grow">
    <h2 class="text-3xl font-bold text-blue-600 mb-4">AIì™€ ëŒ€í™”í•´ë³´ì„¸ìš”</h2>
    <p class="text-gray-700 mb-6">ë§ˆì´í¬ë¥¼ í´ë¦­í•˜ê±°ë‚˜ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê³  AIì™€ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í™”í•´ë³´ì„¸ìš”!</p>

    <!-- ë§ˆì´í¬ ë²„íŠ¼ -->
    <button id="micButton" class="bg-blue-600 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-700 flex items-center space-x-2">
        <i class="ph ph-microphone"></i>
        <span>ë§í•˜ê¸°</span>
    </button>

    <!-- í…ìŠ¤íŠ¸ ì…ë ¥ ë¶€ë¶„ -->
    <div class="mt-4">
        <input id="textInput" type="text" placeholder="ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”..." class="border border-gray-300 rounded-lg px-4 py-2 w-64">
        <button id="sendButton" class="bg-green-600 text-white px-4 py-2 rounded-lg ml-2 hover:bg-green-700">ì „ì†¡</button>
    </div>

    <!-- ëŒ€í™” ë‚´ìš© í‘œì‹œ -->
    <div id="chatBox" class="mt-6 w-full max-w-md bg-white p-4 rounded-lg shadow-md h-64 overflow-y-auto">
        <p class="text-gray-600">ëŒ€í™” ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</p>
    </div>

    <!-- ê°ì •/ìƒí™© ì•„ì´ì½˜ í‘œì‹œ -->
    <div id="emotionIcon" class="mt-4 text-6xl"></div>
</main>

<!-- Footer -->
<footer id="contact" class="bg-gray-900 text-white text-center py-6">
    <div class="container mx-auto">
        <p>&copy; 2025 ë°˜ë°˜ì¹˜í‚¨. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p>
        <div class="mt-4 flex justify-center space-x-4">
            <a href="#" class="text-gray-400 hover:text-white">Instagram</a>
            <a href="#" class="text-gray-400 hover:text-white">Twitter</a>
            <a href="#" class="text-gray-400 hover:text-white">Facebook</a>
        </div>
    </div>
</footer>

<!-- JavaScript: Chat ê¸°ëŠ¥, ëª¨ë°”ì¼ ë‚´ë¹„ê²Œì´ì…˜ í† ê¸€ ë° TTS ê¸°ëŠ¥ -->
<script>
    const micButton = document.getElementById('micButton');
    const textInput = document.getElementById('textInput');
    const sendButton = document.getElementById('sendButton');
    const chatBox = document.getElementById('chatBox');
    const emotionIcon = document.getElementById('emotionIcon');

    // ìŒì„± ì¸ì‹ ê¸°ëŠ¥
    micButton.addEventListener('click', () => {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'ko-KR';
        recognition.start();

        recognition.onresult = (event) => {
            const text = event.results[0][0].transcript;
            updateChat(`ì‚¬ìš©ì: ${text}`);
            processInput(text);
        };
    });

    // í…ìŠ¤íŠ¸ ì…ë ¥ ê¸°ëŠ¥
    sendButton.addEventListener('click', () => {
        const text = textInput.value.trim();
        if (text !== '') {
            updateChat(`ì‚¬ìš©ì: ${text}`);
            processInput(text);
            textInput.value = ''; // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
        }
    });

    // ì±„íŒ… ì˜ì—­ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateChat(message) {
        chatBox.innerHTML += `<p class="text-gray-800 font-semibold mt-2">${message}</p>`;
        chatBox.scrollTop = chatBox.scrollHeight; // ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ ì´ë™
    }

    // ê¸°ë³¸ ê°ì • ë¶„ì„ í•¨ìˆ˜ ì—…ë°ì´íŠ¸ (ì—¬ê¸°ì— ì¶”ê°€ì ì¸ ì„¸ì„¸í•œ ê°ì • ë‹¨ì„œ ì„¤ì • ê°€ëŠ¥)
    function analyzeEmotion(text) {
        let icon = '';
        if (/ìŠ¬í”„|í˜ë“¤|ìš°ìš¸/.test(text)) {
            icon = 'ğŸ˜¢';
        } else if (/ì›ƒ|í–‰ë³µ|ê¸°ë»/.test(text)) {
            icon = 'ğŸ˜„';
        } else if (/í™”ë‚˜|ì§œì¦ë‚˜/.test(text)) {
            icon = 'ğŸ˜¡';
        } else if (/ë†€ë¼|ì¶©ê²©/.test(text)) {
            icon = 'ğŸ˜²';
        } else {
            icon = 'ğŸ˜';
        }
        return icon;
    }

    // ì‘ë‹µì— ë‹¤ì–‘ì„±ì„ ì£¼ê¸° ìœ„í•œ ëœë¤ ì‘ë‹µ í•¨ìˆ˜
    function randomResponse(options) {
        return options[Math.floor(Math.random() * options.length)];
    }

    // ì…ë ¥ëœ í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬ ì•„ì´ì½˜ê³¼ AIì˜ ë‹µë³€ì„ ê²°ì •í•˜ê³ , TTSë¡œ ì½ì–´ì£¼ê¸° (ì„¸ì„¸í•˜ê²Œ ëŒ€í™”í•˜ê¸° ìœ„í•œ ê°œì„ )
    function processInput(text) {
        const userText = text.toLowerCase();
        let aiResponse = '';
        let icon = '';

        // ì¶”ì²œ ê´€ë ¨: "ì¶”ì²œ"ì´ë¼ëŠ” ë‹¨ì–´ê°€ í¬í•¨ëœ ê²½ìš°
        if (userText.includes('ì¶”ì²œ')) {
            if (userText.includes('ì˜í™”')) {
                icon = 'ğŸ¬';
                aiResponse = randomResponse([
                    'ìµœê·¼ í™”ì œê°€ ëœ ì˜í™”ë¡œëŠ” "ê¸°ìƒì¶©"ê³¼ "ë¯¸ë‚˜ë¦¬"ê°€ ìˆì–´ìš”. ê¼­ í•œë²ˆ ë³´ì„¸ìš”!',
                    '"ì¸ì…‰ì…˜" ê°™ì€ ì°½ì˜ì ì¸ ì˜í™”ë„ ì¶”ì²œë“œë ¤ìš”!',
                    'ìš”ì¦˜ ì¸ê¸° ìˆëŠ” ì˜í™” ì¤‘ì—ëŠ” "ì´í„°ë„ìŠ¤"ë„ ìˆì–´ìš”. ì–´ë– ì‹ ê°€ìš”?'
                ]);
            } else if (userText.includes('ì±…')) {
                icon = 'ğŸ“š';
                aiResponse = randomResponse([
                    '"ë°ë¯¸ì•ˆ", "ì–´ë¦° ì™•ì", "í•´ë¦¬í¬í„°" ë“± ë‹¤ì–‘í•œ ì¥ë¥´ì˜ ì±…ì„ ì¶”ì²œë“œë ¤ìš”!',
                    'ìµœê·¼ ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì¤‘ í•˜ë‚˜ì¸ "ë¯¸ì›€ë°›ì„ ìš©ê¸°"ë„ ì¢‹ì€ ì„ íƒì´ì—ìš”.',
                    '"ë…¸ì¸ê³¼ ë°”ë‹¤"ì™€ ê°™ì€ ê³ ì „ ë¬¸í•™ë„ ì¶”ì²œí•´ìš”!'
                ]);
            } else if (userText.includes('ìŒì‹')) {
                icon = 'ğŸ²';
                aiResponse = randomResponse([
                    'ë§›ìˆëŠ” ìŒì‹ìœ¼ë¡œëŠ” ê¹€ì¹˜ì°Œê°œ, ë–¡ë³¶ì´, ë¹„ë¹”ë°¥ ë“±ì´ ìˆì–´ìš”!',
                    'í•œë²ˆì¯¤ì€ íŒŒìŠ¤íƒ€ë‚˜ í”¼ìë„ ë„ì „í•´ ë³´ì„¸ìš”!',
                    'ì˜¤ëŠ˜ì€ í•œì‹ ë¿ë§Œ ì•„ë‹ˆë¼ ì–‘ì‹ì´ë‚˜ ì¼ì‹ë„ ì¶”ì²œë“œë ¤ìš”.'
                ]);
            } else {
                icon = 'â­';
                aiResponse = 'ì–´ë–¤ ë¶„ì•¼ì—ì„œ ì¶”ì²œì„ ì›í•˜ì‹œëŠ”ì§€ ì˜í™”, ì±…, ìŒì‹ ë“± êµ¬ì²´ì ìœ¼ë¡œ ë§ì”€í•´ ì£¼ì„¸ìš”!';
            }
        }
        // ì¸ì‚¬ ê´€ë ¨: "ì•ˆë…•" ë° "ì•ˆë…•í•˜ì„¸ìš”"ë¼ëŠ” ë‹¨ì–´ê°€ í¬í•¨ëœ ê²½ìš°
        else if (/ì•ˆë…•/.test(userText)) {
            icon = 'ğŸ˜„';
            aiResponse = randomResponse([
                'ì•ˆë…•í•˜ì„¸ìš”! ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ê³  ê³„ì‹ ê°€ìš”?',
                'ë°˜ê°‘ìŠµë‹ˆë‹¤! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?',
                'ì•ˆë…•í•˜ì„¸ìš”! ì–¸ì œë“  ëŒ€í™”í•˜ê³  ì‹¶ìœ¼ë©´ ë§ì”€í•´ ì£¼ì„¸ìš”.'
            ]);
        }
        // ë‚ ì”¨ ê´€ë ¨
        else if (userText.includes('ë‚ ì”¨')) {
            icon = 'â˜€ï¸';
            aiResponse = randomResponse([
                'ì˜¤ëŠ˜ì€ ë§‘ê³  í™”ì°½í•œ ë‚ ì”¨ì—ìš”. ì™¸ì¶œí•˜ì‹œê¸° ì¢‹ì€ ë‚ ì”¨ë„¤ìš”!',
                'í˜„ì¬ ë‚ ì”¨ëŠ” ë§‘ì§€ë§Œ, ì˜¤í›„ë¶€í„° ì•½ê°„ íë¦´ ìˆ˜ë„ ìˆì–´ìš”.',
                'ë‚ ì”¨ê°€ ì •ë§ ì¢‹ì•„ìš”! ì‚°ì±…ì´ë‚˜ ì•¼ì™¸í™œë™ ì¶”ì²œë“œë ¤ìš”.'
            ]);
        }
        // ê°ì • í‘œí˜„ ë¶„ì„: ê¸°ì¨, ìŠ¬í”” ë“± ê°ì • ê´€ë ¨ ë¬¸êµ¬ì— ë”°ë¥¸ ë°˜ì‘
        else if (/ê¸°ë»|í–‰ë³µ/.test(userText)) {
            icon = 'ğŸ˜„';
            aiResponse = randomResponse([
                'ê¸°ìœ ë§ˆìŒì´ ì „í•´ì ¸ ì˜¤ë„¤ìš”! ì˜¤ëŠ˜ì€ ì¢‹ì€ ì¼ì´ ìƒê¸¸ ê²ƒ ê°™ì•„ìš”.',
                'í–‰ë³µí•œ ê¸°ë¶„ì„ ìœ ì§€í•˜ì„¸ìš”! ê¸ì •ì ì¸ ì—ë„ˆì§€ê°€ ë„˜ì¹˜ë„¤ìš”.'
            ]);
        }
        else if (/ìŠ¬í”„|í˜ë“¤|ìš°ìš¸/.test(userText)) {
            icon = 'ğŸ˜¢';
            aiResponse = randomResponse([
                'í˜ë“  ìˆœê°„ì´ ìˆêµ°ìš”. ì¡°ê¸ˆ ë” ì´ì•¼ê¸°í•´ ì£¼ì‹¤ ìˆ˜ ìˆì„ê¹Œìš”?',
                'ë§ˆìŒì´ ë¬´ê²ë„¤ìš”. í•„ìš”í•˜ë‹¤ë©´ ì–¸ì œë“  ì´ì•¼ê¸°í•´ ì£¼ì„¸ìš”.'
            ]);
        }
        // ì¶”ê°€ì ì¸ ì§ˆë¬¸ì´ë‚˜ ì‚¬ì†Œí•œ ëŒ€í™” (ì˜ˆ: ì·¨ë¯¸, ê´€ì‹¬ì‚¬ ë“±)
        else if (userText.includes('ì·¨ë¯¸') || userText.includes('ì¬ë¯¸')) {
            icon = 'ğŸ²';
            aiResponse = randomResponse([
                'ì €ëŠ” ëŒ€í™”ë¥¼ í†µí•´ ìƒˆë¡œìš´ ì •ë³´ë¥¼ ë°°ìš°ëŠ” ê²ƒì„ ì¦ê²¨ìš”! ë‹¹ì‹ ì˜ ì·¨ë¯¸ëŠ” ë¬´ì—‡ì¸ê°€ìš”?',
                'ì·¨ë¯¸ ì–˜ê¸°ë¼ë©´ ìŒì•…, ì˜í™”, ë…ì„œ ë“± ë‹¤ì–‘í•œ ê²ƒë“¤ì´ ìˆì£ . ì–´ë–¤ ë¶„ì•¼ì— ê´€ì‹¬ì´ ìˆìœ¼ì„¸ìš”?'
            ]);
        }
        // ê·¸ ì™¸ì˜ ì¼ë°˜ì ì¸ ë¬¸ì˜ì— ëŒ€í•œ ì‘ë‹µ
        else {
            icon = analyzeEmotion(userText);
            aiResponse = 'ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ë§ì”€í•´ ì£¼ì‹œë©´ ë” ì¢‹ì€ ë‹µë³€ì„ ë“œë¦´ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”!';
        }

        updateChat(`AI: ${aiResponse}`);
        emotionIcon.innerHTML = icon;

        // TTS (í…ìŠ¤íŠ¸ ìŒì„± ë³€í™˜)ë¡œ AIì˜ ë‹µë³€ì„ ìŒì„± ì¶œë ¥
        const utterance = new SpeechSynthesisUtterance(aiResponse);
        utterance.lang = 'ko-KR';
        speechSynthesis.speak(utterance);
    }

    // ëª¨ë°”ì¼ ë‚´ë¹„ê²Œì´ì…˜ í† ê¸€
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
</script>
</body>
</html>
