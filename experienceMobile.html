<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì²´í—˜í•˜ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">
<!-- Navigation Bar -->
<header class="bg-white shadow-md p-4 fixed w-full top-0 z-10">
    <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-600">AI ì²´í—˜í•˜ê¸°</h1>
        <button id="mobileMenuButton" class="md:hidden text-gray-700 focus:outline-none">
            <i class="ph ph-list text-3xl"></i>
        </button>
    </div>
    <nav id="mobileMenu" class="hidden md:hidden bg-white absolute w-full left-0 top-14 shadow-md">
        <ul class="flex flex-col space-y-4 p-4">
            <li><a href="#chat" class="text-gray-700 hover:text-blue-600">ì²´í—˜</a></li>
            <li><a href="#contact" class="text-gray-700 hover:text-blue-600">ë¬¸ì˜</a></li>
        </ul>
    </nav>
</header>

<!-- Main Content -->
<main id="chat" class="pt-24 flex flex-col items-center justify-center p-6 flex-grow">
    <h2 class="text-3xl font-bold text-blue-600 mb-4">AIì™€ ëŒ€í™”í•´ë³´ì„¸ìš”</h2>
    <p class="text-gray-700 mb-6 text-center">ë§ˆì´í¬ë¥¼ í´ë¦­í•˜ê±°ë‚˜ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê³  AIì™€ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í™”í•´ë³´ì„¸ìš”!</p>

    <!-- ë§ˆì´í¬ ë²„íŠ¼ -->
    <button id="micButton" class="bg-blue-600 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-700 flex items-center space-x-2">
        <i class="ph ph-microphone"></i>
        <span>ë§í•˜ê¸°</span>
    </button>

    <!-- í…ìŠ¤íŠ¸ ì…ë ¥ -->
    <div class="mt-4 flex w-full max-w-xs">
        <input id="textInput" type="text" placeholder="ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”..." class="border border-gray-300 rounded-lg px-4 py-2 w-full">
        <button id="sendButton" class="bg-green-600 text-white px-4 py-2 rounded-lg ml-2 hover:bg-green-700">ì „ì†¡</button>
    </div>

    <!-- ì±„íŒ… ë°•ìŠ¤ -->
    <div id="chatBox" class="mt-6 w-full max-w-md bg-white p-4 rounded-lg shadow-md h-64 overflow-y-auto">
        <p class="text-gray-600">ëŒ€í™” ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</p>
    </div>

    <!-- ê°ì • ì•„ì´ì½˜ -->
    <div id="emotionIcon" class="mt-4 text-6xl"></div>
</main>

<!-- Footer -->
<footer id="contact" class="bg-gray-900 text-white text-center py-6">
    <p>&copy; 2025 ë°˜ë°˜ì¹˜í‚¨. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p>
</footer>

<!-- JavaScript -->
<script>
    const micButton = document.getElementById('micButton');
    const textInput = document.getElementById('textInput');
    const sendButton = document.getElementById('sendButton');
    const chatBox = document.getElementById('chatBox');
    const emotionIcon = document.getElementById('emotionIcon');
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');

    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    micButton.addEventListener('click', () => {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'ko-KR';
        recognition.start();

        recognition.onresult = (event) => {
            const text = event.results[0][0].transcript;
            updateChat(`ì‚¬ìš©ì: ${text}`);
            processInput(text);
        };
    });

    sendButton.addEventListener('click', () => {
        const text = textInput.value.trim();
        if (text !== '') {
            updateChat(`ì‚¬ìš©ì: ${text}`);
            processInput(text);
            textInput.value = '';
        }
    });

    function updateChat(message) {
        chatBox.innerHTML += `<p class='text-gray-800 font-semibold mt-2'>${message}</p>`;
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function analyzeEmotion(text) {
        if (text.includes('ìŠ¬í¼') || text.includes('ìš°ìš¸')) return 'ğŸ˜¢';
        if (text.includes('í–‰ë³µ') || text.includes('ê¸°ë»')) return 'ğŸ˜„';
        if (text.includes('í™”ë‚˜') || text.includes('ì§œì¦')) return 'ğŸ˜¡';
        return 'ğŸ˜';
    }

    function processInput(text) {
        let aiResponse = 'ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”. ë‹¤ì‹œ ë§ì”€í•´ ì£¼ì„¸ìš”!';
        let icon = analyzeEmotion(text);

        if (text.includes('ì¶”ì²œ')) aiResponse = 'ì–´ë–¤ ì¶”ì²œì„ ì›í•˜ì‹œë‚˜ìš”? ì˜í™”, ì±…, ìŒì‹ ì¤‘ í•˜ë‚˜ë¥¼ ë§ì”€í•´ ì£¼ì„¸ìš”!';
        if (text.includes('ì•ˆë…•')) aiResponse = 'ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ ê¸°ë¶„ì€ ì–´ë– ì„¸ìš”?';
        if (text.includes('ë‚ ì”¨')) aiResponse = 'ì˜¤ëŠ˜ì€ ë§‘ê³  í™”ì°½í•œ ë‚ ì”¨ì…ë‹ˆë‹¤!';

        updateChat(`AI: ${aiResponse}`);
        emotionIcon.innerHTML = icon;

        const utterance = new SpeechSynthesisUtterance(aiResponse);
        utterance.lang = 'ko-KR';
        speechSynthesis.speak(utterance);
    }
</script>
</body>
</html>
